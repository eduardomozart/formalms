<!DOCTYPE html>
<html lang="{{ evalPhp('Layout::lang_code') }}">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--Fix funzionamento scorm su IE9-->
    <!--[if lt IE 9]>
    <meta http-equiv="x-ua-compatible" content="IE=8"/>
    <![endif]-->     
    <!--END -->

    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>[TWIG] {{ evalPhp('Layout::title') }}</title>
    {{ evalPhp('Layout::zone', ['meta']) }}
    {{ evalPhp('Layout::meta') }}
    <link rel="shortcut icon" href="{{ evalPhp('Layout::path') }}images/favicon.png" type="image/png"/>
    <link rel="shortcut icon" href="{{ evalPhp('Layout::path') }}images/favicon.ico"/>
    <!-- reset and font stylesheet -->
    {{ evalPhp('Layout::resetter') }}                   
               
      
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->     
    
    <!-- Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>               
    
     

    
    <!--****************** CSS PER RESPONSIVE FORMA (LR)************************ -->   
    <!-- common stylesheet -->     
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ evalPhp('Layout::path') }}bootstrap/css/bootstrap.css">
    <link href="{{ evalPhp('Layout::path') }}css/bootstrap-reset.css" rel="stylesheet">
    
    <link rel="stylesheet" href="{{ evalPhp('Layout::path') }}bootstrap/css/bootstrap-theme.min.css">   
    <link rel="stylesheet" href="{{ evalPhp('Layout::path') }}bootstrap/css/bootstrap.min.css">
     
    <link rel="stylesheet" type="text/css" href="{{ evalPhp('Layout::path') }}style/table-responsive.css"/>

         
    <link rel="stylesheet" type="text/css" href="http://tympanus.net/Tutorials/CaptionHoverEffects/css/default.css" />
    <link rel="stylesheet" type="text/css" href="http://tympanus.net/Tutorials/CaptionHoverEffects/css/component.css" />
    <script src="http://tympanus.net/Tutorials/CaptionHoverEffects/js/modernizr.custom.js"></script>

         
     <!-- menus script menu swipe -->
    <script src="http://callmenick.com/_development/slide-push-menus/js/dist/menu.js"></script>
    <link rel="stylesheet" href="http://callmenick.com/_development/slide-push-menus/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://callmenick.com/_development/slide-push-menus/css/style.min.css">         
       
     <!-- HELP DESK -->  
  <link rel="stylesheet" type="text/css" media="all" href="{{ evalPhp('Layout::path') }}style/helpdesk.css">
  <link rel="stylesheet" type="text/css" media="all" href="http://designwoop.com/labs/model-contact-form/fancybox/jquery.fancybox.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://designwoop.com/labs/model-contact-form/fancybox/jquery.fancybox.js?v=2.0.6"></script>  
     
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.0/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.0/js/bootstrap-toggle.min.js"></script>
       
<!-- basic fancybox setup -->
<script type="text/javascript">
    function validateEmail(email) { 
        var reg = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return reg.test(email);
    }

    $(document).ready(function() {
        $(".modalbox").fancybox();
        $("#contact").submit(function() { return false; });

        
        $("#send").on("click", function(){
            var emailval  = $("#email").val();
            var msgval    = $("#msg").val();
            var msglen    = msgval.length;
            var mailvalid = validateEmail(emailval);
            var msg_ok    = $("#msg_ok").val();
            
      var sendtoval  = $("#sendto").val();
      var sendtovalid = validateEmail(sendtoval);
      
            if(mailvalid == false) {
                $("#email").addClass("error");
            }
            else if(mailvalid == true){
                $("#email").removeClass("error");
            }
            
      
            if(sendtovalid == false) {
                $("#sendto").addClass("error");
            }
            else if(sendtovalid == true){
                $("#sendto").removeClass("error");
            }      
      
            if(msglen < 4) {
                $("#msg").addClass("error");
            }
            else if(msglen >= 4){
                $("#msg").removeClass("error");
            }
            
            if(mailvalid == true && msglen >= 4 && sendtovalid==true) {
                // if both validate we attempt to send the e-mail
                // first we hide the submit btn so the user doesnt click twice
                $("#send").replaceWith("<em><img src={{ evalPhp('Layout::path') }}images/tree/loading.gif ></em>");
                
                $.ajax({
                    type: 'POST',
                    url: 'ajax.server.php?r=helpdesk/show',
                    data: $("#contact").serialize(),
                    success: function(data) {
                        if(data == "true") {
                            $("#contact").fadeOut("fast", function(){
                                $(this).before("<p><strong>" + msg_ok + "</strong></p>");
                                setTimeout("$.fancybox.close()", 5000);
                            });
                        }
                    }
                });
            }
        });
    });
</script>       
       
       
    <!-- *************************************************** -->

    <link rel="stylesheet" type="text/css" href="{{ evalPhp('Layout::path') }}style/base.css"/>    
    
    
    <!-- specific stylesheet -->
    {{ evalPhp('YuiLib::load', ['base']) }}
    <!-- printer stylesheet-->
    <link rel="stylesheet" type="text/css" href="{{ evalPhp('Layout::path') }}style/print.css" media="print"/>
    {{ evalPhp('Layout::accessibility') }}
    <!-- Page Head area -->
    {{ evalPhp('Layout::zone', ['page_head']) }}
    {{ evalPhp('Layout::rtl') }}
    {% block pagehead %}
    {% endblock %}
    
    <!-- Javascripts area -->
      
    {% block stylesheet %}
    {% endblock %}
    {% block javascript %}
    {% endblock %}
    
    

    
</head>
<body class="yui-skin-docebo yui-skin-sam">
    <div class="container-fluid">      
    {% block content %}
    {% endblock %}
        {{ evalPhp('Layout::analytics') }}
    </div>
    
    
    <script>
    
      /**
       * Slide right instantiation and action.
       */
      var slideRight = new Menu({
        wrapper: '#o-wrapper',
        type: 'slide-right',
        menuOpenerClass: '.c-button',
        maskId: '#c-mask'
      });

      var slideRightBtn = document.querySelector('#c-button--slide-right');

      
      slideRightBtn.addEventListener('click', function(e) {
        e.preventDefault;
        slideRight.open();
      });

      
    </script>      
    
                          
</body>
</html>